Started GET "/up" for ::1 at 2025-09-01 15:42:45 -0300
  
ActiveRecord::ConnectionNotEstablished (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
):
  
activerecord (7.1.5.2) lib/active_record/connection_adapters/postgresql_adapter.rb:80:in `rescue in new_client'
activerecord (7.1.5.2) lib/active_record/connection_adapters/postgresql_adapter.rb:68:in `new_client'
activerecord (7.1.5.2) lib/active_record/connection_adapters/postgresql_adapter.rb:980:in `connect'
activerecord (7.1.5.2) lib/active_record/connection_adapters/postgresql_adapter.rb:992:in `reconnect'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract_adapter.rb:685:in `block in reconnect!'
activesupport (7.1.5.2) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract_adapter.rb:684:in `reconnect!'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract_adapter.rb:786:in `block in verify!'
activesupport (7.1.5.2) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract_adapter.rb:777:in `verify!'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract_adapter.rb:794:in `connect!'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract_adapter.rb:1000:in `block in with_raw_connection'
activesupport (7.1.5.2) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract_adapter.rb:999:in `with_raw_connection'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract_adapter.rb:1112:in `valid_raw_connection'
activerecord (7.1.5.2) lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `get_database_version'
activerecord (7.1.5.2) lib/active_record/connection_adapters/schema_cache.rb:374:in `database_version'
activerecord (7.1.5.2) lib/active_record/connection_adapters/schema_cache.rb:70:in `database_version'
activerecord (7.1.5.2) lib/active_record/connection_adapters/schema_cache.rb:200:in `database_version'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract_adapter.rb:870:in `database_version'
activerecord (7.1.5.2) lib/active_record/connection_adapters/postgresql_adapter.rb:644:in `check_version'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:680:in `new_connection'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:730:in `checkout_new_connection'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:709:in `try_to_checkout_new_connection'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:654:in `acquire_connection'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `checkout'
activerecord (7.1.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:182:in `connection'
activerecord (7.1.5.2) lib/active_record/migration/pending_migration_connection.rb:8:in `establish_temporary_connection'
activerecord (7.1.5.2) lib/active_record/migration.rb:774:in `block in pending_migrations'
activerecord (7.1.5.2) lib/active_record/migration.rb:773:in `each'
activerecord (7.1.5.2) lib/active_record/migration.rb:773:in `pending_migrations'
activerecord (7.1.5.2) lib/active_record/migration.rb:752:in `check_pending_migrations'
activerecord (7.1.5.2) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.5.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.5.2) lib/active_record/migration.rb:649:in `block in call'
activerecord (7.1.5.2) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.5.2) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
rescue_registry (1.0.0) lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
rescue_registry (1.0.0) lib/rescue_registry/reset_context.rb:9:in `call'
railties (7.1.5.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.2.0) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.2.0) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (3.0.0) lib/rack/cors.rb:102:in `call'
railties (7.1.5.2) lib/rails/engine.rb:536:in `call'
puma (6.6.1) lib/puma/configuration.rb:279:in `call'
puma (6.6.1) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in `handle_request'
puma (6.6.1) lib/puma/server.rb:472:in `process_client'
puma (6.6.1) lib/puma/server.rb:254:in `block in run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-01 19:52:46.777514', '2025-09-01 19:52:46.777519') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250901195124)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar NOT NULL, "nickname" varchar NOT NULL, "name" varchar NOT NULL, "phone" varchar, "rank_medal" varchar NOT NULL, "rank_stars" integer NOT NULL, "preferred_position" varchar, "positions" text DEFAULT '[]', "category" varchar NOT NULL, "role" varchar DEFAULT 'player', "active" boolean DEFAULT 1, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_nickname" ON "users" ("nickname")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_role" ON "users" ("role")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_category" ON "users" ("category")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250901195124') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 17:04:17 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `respond_to' for class ApplicationController):
  
app/controllers/application_controller.rb:3:in `include'
app/controllers/application_controller.rb:3:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/api/v1/auth_controller.rb:1:in `<main>'
Started GET "/up" for ::1 at 2025-09-01 17:43:53 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::HealthController#show as */*
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 9)
Completed 200 OK in 28ms (Views: 13.8ms | ActiveRecord: 0.0ms | Allocations: 4815)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 17:43:53 -0300
  
ActionController::RoutingError (uninitialized constant AuthController):
  
Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 22:51:59 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}}}
StandardError: wrong number of arguments (given 1, expected 0)
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/configuration.rb:57:in `model'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/resources/user_resource.rb:32:in `<class:UserResource>'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/resources/user_resource.rb:1:in `<main>'
/home/renanproenca/.rvm/rubies/ruby-3.3.5/lib/ruby/3.3.0/bundled_gems.rb:75:in `require'
/home/renanproenca/.rvm/rubies/ruby-3.3.5/lib/ruby/3.3.0/bundled_gems.rb:75:in `block (2 levels) in replace_require'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/bootsnap-1.18.6/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/zeitwerk-2.7.3/lib/zeitwerk/core_ext/kernel.rb:26:in `require'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:5:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 18ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 14606)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 22:53:09 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}}}
StandardError:           UserResource cannot be called directly from endpoint /api/v1/auth/register#register!

          Either set a primary endpoint for this resource:

          primary_endpoint '/my/url', [:index, :show, :create]

          Or whitelist a secondary endpoint:

          secondary_endpoint '/my_url', [:index, :update]

          The current endpoints allowed for this resource are: [{:path=>:"/users", :full_path=>:"/api/v1/users", :url=>:"http://localhost:3002/api/v1/users", :actions=>[:index, :show, :create, :update, :destroy]}]

/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:67:in `validate_request!'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:50:in `build'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:5:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 18ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 12797)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:02:04 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}}}
StandardError:           UserResource cannot be called directly from endpoint /api/v1/auth/register#register!

          Either set a primary endpoint for this resource:

          primary_endpoint '/my/url', [:index, :show, :create]

          Or whitelist a secondary endpoint:

          secondary_endpoint '/my_url', [:index, :update]

          The current endpoints allowed for this resource are: [{:path=>:"/users", :full_path=>:"/api/v1/users", :url=>:"http://localhost:3002/api/v1/users", :actions=>[:index, :show, :create, :update, :destroy]}, {:path=>:"/auth/register", :full_path=>:"/api/v1/auth/register", :url=>:"http://localhost:3002/api/v1/auth/register", :actions=>[:create]}]

/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:67:in `validate_request!'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:50:in `build'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:5:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 24ms (Views: 0.7ms | ActiveRecord: 0.0ms | Allocations: 12852)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:03:28 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}}}
StandardError:           UserResource cannot be called directly from endpoint /api/v1/auth/register#register!

          Either set a primary endpoint for this resource:

          primary_endpoint '/my/url', [:index, :show, :create]

          Or whitelist a secondary endpoint:

          secondary_endpoint '/my_url', [:index, :update]

          The current endpoints allowed for this resource are: [{:path=>:"/users", :full_path=>:"/api/v1/users", :url=>:"http://localhost:3002/api/v1/users", :actions=>[:index, :show, :create, :update, :destroy]}, {:path=>:"auth/register", :full_path=>:"/api/v1auth/register", :url=>:"http://localhost:3002/api/v1auth/register", :actions=>[:create]}]

/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:67:in `validate_request!'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:50:in `build'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:5:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 25ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 12847)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:05:26 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}}}
StandardError:           UserResource cannot be called directly from endpoint /api/v1/auth/register#register!

          Either set a primary endpoint for this resource:

          primary_endpoint '/my/url', [:index, :show, :create]

          Or whitelist a secondary endpoint:

          secondary_endpoint '/my_url', [:index, :update]

          The current endpoints allowed for this resource are: [{:path=>:"/users", :full_path=>:"/api/v1/users", :url=>:"http://localhost:3002/api/v1/users", :actions=>[:index, :show, :create, :update, :destroy]}, {:path=>:"/api/v1/auth/register", :full_path=>:"/api/v1/api/v1/auth/register", :url=>:"http://localhost:3002/api/v1/api/v1/auth/register", :actions=>[:create]}]

/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:67:in `validate_request!'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:50:in `build'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:5:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 10ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 12850)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:06:50 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}}}
StandardError:           UserResource cannot be called directly from endpoint /api/v1/auth/register#register!

          Either set a primary endpoint for this resource:

          primary_endpoint '/my/url', [:index, :show, :create]

          Or whitelist a secondary endpoint:

          secondary_endpoint '/my_url', [:index, :update]

          The current endpoints allowed for this resource are: [{:path=>:"/users", :full_path=>:"/api/v1/users", :url=>:"http://localhost:3002/api/v1/users", :actions=>[:index, :show, :create, :update, :destroy]}, {:path=>:"/auth/register", :full_path=>:"/api/v1/auth/register", :url=>:"http://localhost:3002/api/v1/auth/register", :actions=>[:create]}]

/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:67:in `validate_request!'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:50:in `build'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:5:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 16ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 12850)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:08:28 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}}}
StandardError: wrong number of arguments (given 1, expected 2..3)
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/persistence.rb:122:in `assign_attributes'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:7:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 13ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 12430)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:10:02 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}}}
StandardError: undefined method `with_indifferent_access' for an instance of ActionController::Parameters
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/operations/application_operation.rb:9:in `initialize'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/operations/application_operation.rb:5:in `new'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/operations/application_operation.rb:5:in `call'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:9:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 7ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3888)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:11:13 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}}}
StandardError: unable to convert unpermitted parameters to hash
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/strong_parameters.rb:330:in `to_h'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:9:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 5ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3220)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:12:29 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"Support", "positions"=>["Support", "Offlane"], "role"=>"player"}}}}
Registration validation failed: Invalid positions: SUPPORT, OFFLANE. Valid positions: P1, P2, P3, P4, P5
StandardError: undefined method `data' for an instance of Array
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/railtie.rb:104:in `block (2 levels) in register_renderers'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:149:in `block in _render_to_body_with_renderer'
/home/renanproenca/.rvm/rubies/ruby-3.3.5/lib/ruby/3.3.0/set.rb:501:in `each_key'
/home/renanproenca/.rvm/rubies/ruby-3.3.5/lib/ruby/3.3.0/set.rb:501:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:145:in `_render_to_body_with_renderer'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:141:in `render_to_body'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/rendering.rb:27:in `render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:139:in `render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:29:in `block (2 levels) in render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/core_ext/benchmark.rb:14:in `ms'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:29:in `block in render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:98:in `cleanup_view_runtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:39:in `cleanup_view_runtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:28:in `render'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:29:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 14ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 9765)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:13:02 -0300
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "testuser"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "testuser"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User creation failed: Validation failed: Category can't be blank, Category is not included in the list, Category must be ancient for herald rank
Registration database error: Failed to create user: Category can't be blank, Category is not included in the list, Category must be ancient for herald rank
StandardError: undefined method `data' for an instance of Array
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/railtie.rb:104:in `block (2 levels) in register_renderers'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:149:in `block in _render_to_body_with_renderer'
/home/renanproenca/.rvm/rubies/ruby-3.3.5/lib/ruby/3.3.0/set.rb:501:in `each_key'
/home/renanproenca/.rvm/rubies/ruby-3.3.5/lib/ruby/3.3.0/set.rb:501:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:145:in `_render_to_body_with_renderer'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:141:in `render_to_body'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/rendering.rb:27:in `render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:139:in `render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:29:in `block (2 levels) in render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/core_ext/benchmark.rb:14:in `ms'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:29:in `block in render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:98:in `cleanup_view_runtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:39:in `cleanup_view_runtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:28:in `render'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:29:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 271ms (Views: 0.1ms | ActiveRecord: 3.2ms | Allocations: 24490)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:13:44 -0300
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "category"=>"ancient", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser", "name"=>"Test User", "phone"=>"11999999999", "category"=>"ancient", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}}}
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "testuser"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "testuser"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "test@example.com"], ["nickname", "testuser"], ["name", "Test User"], ["phone", "11999999999"], ["rank_medal", "herald"], ["rank_stars", 3], ["preferred_position", "P5"], ["positions", "[\"P5\",\"P4\"]"], ["category", "ancient"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 02:13:44.275569"], ["updated_at", "2025-09-02 02:13:44.275569"]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
User created successfully: 1 (test@example.com)
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User registration completed: test@example.com (testuser)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:14:in `register'
StandardError: wrong number of arguments (given 1, expected 0)
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:15:in `initialize'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:15:in `new'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:15:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 228ms (Views: 0.1ms | ActiveRecord: 5.9ms | Allocations: 11077)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:15:54 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test2@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser2", "name"=>"Test User 2", "phone"=>"11888888888", "category"=>"ancient", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test2@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser2", "name"=>"Test User 2", "phone"=>"11888888888", "category"=>"ancient", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test2@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "testuser2"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11888888888"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test2@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "testuser2"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11888888888"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "test2@example.com"], ["nickname", "testuser2"], ["name", "Test User 2"], ["phone", "11888888888"], ["rank_medal", "herald"], ["rank_stars", 3], ["preferred_position", "P5"], ["positions", "[\"P5\",\"P4\"]"], ["category", "ancient"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 02:15:55.219973"], ["updated_at", "2025-09-02 02:15:55.219973"]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
User created successfully: 2 (test2@example.com)
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User registration completed: test2@example.com (testuser2)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:14:in `register'
StandardError: undefined method `to_jsonapi' for an instance of User
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activemodel-7.1.5.2/lib/active_model/attribute_methods.rb:511:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/attribute_methods.rb:499:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/railtie.rb:94:in `block (2 levels) in register_renderers'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:149:in `block in _render_to_body_with_renderer'
/home/renanproenca/.rvm/rubies/ruby-3.3.5/lib/ruby/3.3.0/set.rb:501:in `each_key'
/home/renanproenca/.rvm/rubies/ruby-3.3.5/lib/ruby/3.3.0/set.rb:501:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:145:in `_render_to_body_with_renderer'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:141:in `render_to_body'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/rendering.rb:27:in `render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:139:in `render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:29:in `block (2 levels) in render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/core_ext/benchmark.rb:14:in `ms'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:29:in `block in render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:98:in `cleanup_view_runtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:39:in `cleanup_view_runtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:28:in `render'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:22:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 249ms (Views: 0.1ms | ActiveRecord: 6.4ms | Allocations: 32338)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:17:42 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser3", "name"=>"Test User 3", "phone"=>"11777777777", "category"=>"ancient", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"test3@example.com", "password"=>"[FILTERED]", "nickname"=>"testuser3", "name"=>"Test User 3", "phone"=>"11777777777", "category"=>"ancient", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test3@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "testuser3"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11777777777"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "test3@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "testuser3"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11777777777"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "test3@example.com"], ["nickname", "testuser3"], ["name", "Test User 3"], ["phone", "11777777777"], ["rank_medal", "herald"], ["rank_stars", 3], ["preferred_position", "P5"], ["positions", "[\"P5\",\"P4\"]"], ["category", "ancient"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 02:17:43.086893"], ["updated_at", "2025-09-02 02:17:43.086893"]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
User created successfully: 3 (test3@example.com)
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User registration completed: test3@example.com (testuser3)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:14:in `register'
StandardError:           UserResource cannot be called directly from endpoint /api/v1/auth/register#register!

          Either set a primary endpoint for this resource:

          primary_endpoint '/my/url', [:index, :show, :create]

          Or whitelist a secondary endpoint:

          secondary_endpoint '/my_url', [:index, :update]

          The current endpoints allowed for this resource are: [{:path=>:"/users", :full_path=>:"/api/v1/users", :url=>:"http://localhost:3002/api/v1/users", :actions=>[:index, :show, :create, :update, :destroy]}, {:path=>:"/auth/register", :full_path=>:"/api/v1/auth/register", :url=>:"http://localhost:3002/api/v1/auth/register", :actions=>[:create]}]

/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:67:in `validate_request!'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:13:in `all'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:23:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 255ms (Views: 0.1ms | ActiveRecord: 6.5ms | Allocations: 32344)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:19:46 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"success@example.com", "password"=>"[FILTERED]", "nickname"=>"success_user", "name"=>"Success User", "phone"=>"11666666666", "category"=>"ancient", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"success@example.com", "password"=>"[FILTERED]", "nickname"=>"success_user", "name"=>"Success User", "phone"=>"11666666666", "category"=>"ancient", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}}}
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "success@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "success_user"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11666666666"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "success@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "success_user"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11666666666"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "success@example.com"], ["nickname", "success_user"], ["name", "Success User"], ["phone", "11666666666"], ["rank_medal", "herald"], ["rank_stars", 3], ["preferred_position", "P5"], ["positions", "[\"P5\",\"P4\"]"], ["category", "ancient"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 02:19:47.091642"], ["updated_at", "2025-09-02 02:19:47.091642"]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
User created successfully: 4 (success@example.com)
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User registration completed: success@example.com (success_user)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:14:in `register'
Completed 201 Created in 261ms (Views: 0.2ms | ActiveRecord: 7.2ms | Allocations: 28613)


Started GET "/" for ::1 at 2025-09-01 23:24:33 -0300
Processing by Rails::HealthController#show as HTML
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 9)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 2370)


Started GET "/favicon.ico" for ::1 at 2025-09-01 23:24:33 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/api/v1/auth/register" for ::1 at 2025-09-01 23:41:09 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"rvm-test@example.com", "password"=>"[FILTERED]", "nickname"=>"rvm_test", "name"=>"RVM Test User", "phone"=>"11555555555", "category"=>"ancient", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}, "auth"=>{"data"=>{"type"=>"users", "attributes"=>{"email"=>"rvm-test@example.com", "password"=>"[FILTERED]", "nickname"=>"rvm_test", "name"=>"RVM Test User", "phone"=>"11555555555", "category"=>"ancient", "rank_medal"=>"Herald", "rank_stars"=>3, "preferred_position"=>"P5", "positions"=>["P5", "P4"], "role"=>"player"}}}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "rvm-test@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "rvm_test"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11555555555"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "rvm-test@example.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "rvm_test"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11555555555"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "rvm-test@example.com"], ["nickname", "rvm_test"], ["name", "Rvm Test User"], ["phone", "11555555555"], ["rank_medal", "herald"], ["rank_stars", 3], ["preferred_position", "P5"], ["positions", "[\"P5\",\"P4\"]"], ["category", "ancient"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 02:41:09.896103"], ["updated_at", "2025-09-02 02:41:09.896103"]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
User created successfully: 5 (rvm-test@example.com)
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User registration completed: rvm-test@example.com (rvm_test)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:14:in `register'
Completed 201 Created in 252ms (Views: 1.1ms | ActiveRecord: 5.3ms | Allocations: 28623)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-02 03:21:00 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"teste@teste.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "name"=>"Renan Teste", "nickname"=>"TesteBala", "phone"=>"(11) 99999-9999", "rank_medal"=>"Ancient", "rank_stars"=>3, "preferred_position"=>"P1", "positions"=>["P1", "P2"]}}}
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "TesteBala"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
Registration duplicate error: Phone number is already registered
StandardError: undefined method `data' for an instance of Array
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/railtie.rb:104:in `block (2 levels) in register_renderers'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:149:in `block in _render_to_body_with_renderer'
/home/renanproenca/.rvm/rubies/ruby-3.3.5/lib/ruby/3.3.0/set.rb:501:in `each_key'
/home/renanproenca/.rvm/rubies/ruby-3.3.5/lib/ruby/3.3.0/set.rb:501:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:145:in `_render_to_body_with_renderer'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/renderers.rb:141:in `render_to_body'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/rendering.rb:27:in `render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:139:in `render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:29:in `block (2 levels) in render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/core_ext/benchmark.rb:14:in `ms'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:29:in `block in render'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:98:in `cleanup_view_runtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:39:in `cleanup_view_runtime'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:28:in `render'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:52:in `register'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 14ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 14164)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar NOT NULL, "nickname" varchar NOT NULL, "name" varchar NOT NULL, "phone" varchar, "rank_medal" varchar NOT NULL, "rank_stars" integer NOT NULL, "preferred_position" varchar, "positions" text DEFAULT '[]', "category" varchar NOT NULL, "role" varchar DEFAULT 'player', "active" boolean DEFAULT 1, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_category" ON "users" ("category")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_nickname" ON "users" ("nickname")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_role" ON "users" ("role")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250901195124)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-02 06:22:22.225396', '2025-09-02 06:22:22.225400') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '4a240cd64ade5957da09e4a93ef0d9f3c563e168', '2025-09-02 06:22:22.229518', '2025-09-02 06:22:22.229522') RETURNING "key"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar NOT NULL, "nickname" varchar NOT NULL, "name" varchar NOT NULL, "phone" varchar, "rank_medal" varchar NOT NULL, "rank_stars" integer NOT NULL, "preferred_position" varchar, "positions" text DEFAULT '[]', "category" varchar NOT NULL, "role" varchar DEFAULT 'player', "active" boolean DEFAULT 1, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_category" ON "users" ("category")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_nickname" ON "users" ("nickname")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_phone" ON "users" ("phone")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_users_on_role" ON "users" ("role")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250901195124)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-02 06:22:22.251712', '2025-09-02 06:22:22.251716') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-02 06:22:22.254120' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '4a240cd64ade5957da09e4a93ef0d9f3c563e168', '2025-09-02 06:22:22.256248', '2025-09-02 06:22:22.256251') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/auth/register" for ::1 at 2025-09-02 03:23:22 -0300
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"teste@teste.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "name"=>"Renan Teste", "nickname"=>"TesteBala", "phone"=>"(11) 99999-9999", "rank_medal"=>"Ancient", "rank_stars"=>3, "preferred_position"=>"P1", "positions"=>["P1", "P2"]}}}
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "TesteBala"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "TesteBala"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User creation failed: Validation failed: Category can't be blank, Category is not included in the list, Category must be ancient for ancient rank
Registration database error: Failed to create user: Category can't be blank, Category is not included in the list, Category must be ancient for ancient rank
Completed 422 Unprocessable Content in 248ms (Views: 0.1ms | ActiveRecord: 5.0ms | Allocations: 20413)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-02 03:25:15 -0300
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"teste@teste.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "name"=>"Renan Teste", "nickname"=>"TesteBala", "phone"=>"(11) 99999-9999", "rank_medal"=>"ancient", "rank_stars"=>3, "preferred_position"=>"P1", "positions"=>["P1", "P2"]}}}
  [1m[36mUser Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "TesteBala"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "TesteBala"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User creation failed: Validation failed: Category can't be blank, Category is not included in the list, Category must be ancient for ancient rank
Registration database error: Failed to create user: Category can't be blank, Category is not included in the list, Category must be ancient for ancient rank
Completed 422 Unprocessable Content in 207ms (Views: 0.1ms | ActiveRecord: 3.8ms | Allocations: 5767)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-02 03:26:20 -0300
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"teste@teste.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "name"=>"Renan Teste", "nickname"=>"TesteBala", "phone"=>"(11) 99999-9999", "rank_medal"=>"ancient", "rank_stars"=>3, "preferred_position"=>"P1", "positions"=>["P1", "P2"]}}}
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "TesteBala"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "TesteBala"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "teste@teste.com"], ["nickname", "TesteBala"], ["name", "Renan Teste"], ["phone", "11999999999"], ["rank_medal", "ancient"], ["rank_stars", 3], ["preferred_position", "P1"], ["positions", "[\"P1\",\"P2\"]"], ["category", "ancient"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 06:26:20.808425"], ["updated_at", "2025-09-02 06:26:20.808425"]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
User created successfully: 1 (teste@teste.com)
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User registration completed: teste@teste.com (TesteBala)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:14:in `register'
Completed 201 Created in 224ms (Views: 0.1ms | ActiveRecord: 10.3ms | Allocations: 15674)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 03:27:13 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"estefane@email.com", "password"=>"[FILTERED]"}}}
StandardError:           AuthResource cannot be called directly from endpoint /api/v1/auth/login#login!

          Either set a primary endpoint for this resource:

          primary_endpoint '/my/url', [:index, :show, :create]

          Or whitelist a secondary endpoint:

          secondary_endpoint '/my_url', [:index, :update]

          The current endpoints allowed for this resource are: [{:path=>:"/auths", :full_path=>:"/api/v1/auths", :url=>:"http://localhost:3002/api/v1/auths", :actions=>[:index, :show, :create, :update, :destroy]}, {:path=>:"/auth/login", :full_path=>:"/api/v1/auth/login", :url=>:"http://localhost:3002/api/v1/auth/login", :actions=>[:create]}, {:path=>:"/auth/me", :full_path=>:"/api/v1/auth/me", :url=>:"http://localhost:3002/api/v1/auth/me", :actions=>[:show]}]

/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:67:in `validate_request!'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:50:in `build'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:63:in `login'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 34ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2953)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 03:27:27 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"teste@teste.com", "password"=>"[FILTERED]"}}}
StandardError:           AuthResource cannot be called directly from endpoint /api/v1/auth/login#login!

          Either set a primary endpoint for this resource:

          primary_endpoint '/my/url', [:index, :show, :create]

          Or whitelist a secondary endpoint:

          secondary_endpoint '/my_url', [:index, :update]

          The current endpoints allowed for this resource are: [{:path=>:"/auths", :full_path=>:"/api/v1/auths", :url=>:"http://localhost:3002/api/v1/auths", :actions=>[:index, :show, :create, :update, :destroy]}, {:path=>:"/auth/login", :full_path=>:"/api/v1/auth/login", :url=>:"http://localhost:3002/api/v1/auth/login", :actions=>[:create]}, {:path=>:"/auth/me", :full_path=>:"/api/v1/auth/me", :url=>:"http://localhost:3002/api/v1/auth/me", :actions=>[:show]}]

/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:67:in `validate_request!'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:50:in `build'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:63:in `login'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:44:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 270)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 03:30:39 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"teste@teste.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "teste@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: teste@teste.com (TesteBala)
Completed 200 OK in 193ms (Views: 0.1ms | ActiveRecord: 3.8ms | Allocations: 9640)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-02 03:31:59 -0300
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "name"=>"Renan", "nickname"=>"metallica", "phone"=>"11999999999", "rank_medal"=>"Archon", "rank_stars"=>2, "preferred_position"=>"P1", "positions"=>["P1", "P5"]}}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "metallica"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
Registration duplicate error: Phone number is already registered
Completed 422 Unprocessable Content in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 2767)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-02 03:32:03 -0300
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "name"=>"Renan", "nickname"=>"metallica", "phone"=>"11999999991", "rank_medal"=>"Archon", "rank_stars"=>2, "preferred_position"=>"P1", "positions"=>["P1", "P5"]}}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "metallica"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999991"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "metallica"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11999999991"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "email@email.com"], ["nickname", "metallica"], ["name", "Renan"], ["phone", "11999999991"], ["rank_medal", "archon"], ["rank_stars", 2], ["preferred_position", "P1"], ["positions", "[\"P1\",\"P5\"]"], ["category", "ancient"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 06:32:03.837928"], ["updated_at", "2025-09-02 06:32:03.837928"]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
User created successfully: 2 (email@email.com)
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User registration completed: email@email.com (metallica)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:14:in `register'
Completed 201 Created in 165ms (Views: 0.1ms | ActiveRecord: 2.8ms | Allocations: 6078)


Started GET "/api/v1/auth/me" for ::1 at 2025-09-02 03:32:24 -0300
Processing by Api::V1::AuthController#me as JSONAPI
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:100:in `me'
StandardError: wrong number of arguments (given 0, expected 1..2)
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:49:in `build'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:101:in `me'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 7ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 4405)


Started GET "/api/v1/auth/me" for ::1 at 2025-09-02 03:32:42 -0300
Processing by Api::V1::AuthController#me as JSONAPI
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:100:in `me'
StandardError: wrong number of arguments (given 0, expected 1..2)
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/resource/interface.rb:49:in `build'
/home/renanproenca/Documentos/personal/dota-evolution-presence/app/controllers/api/v1/auth_controller.rb:101:in `me'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:224:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rendering.rb:165:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:259:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:13:in `block in debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti/debugger.rb:133:in `debug'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/debugging.rb:12:in `debug_graphiti'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:17:in `block in wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-1.8.2/lib/graphiti.rb:38:in `with_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/graphiti-rails-0.4.1/lib/graphiti/rails/context.rb:16:in `wrap_graphiti_context'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:130:in `block in run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:141:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/callbacks.rb:258:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/rescue.rb:25:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `block in instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/notifications.rb:206:in `instrument'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/instrumentation.rb:73:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/controller.rb:24:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/railties/controller_runtime.rb:32:in `process_action'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/abstract_controller/base.rb:160:in `process'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:227:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_controller/metal.rb:309:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:51:in `block in serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `each'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:124:in `find_routes'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/journey/router.rb:32:in `serve'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/routing/route_set.rb:882:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/etag.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/conditional_get.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/head.rb:15:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activerecord-7.1.5.2/lib/active_record/migration.rb:655:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/callbacks.rb:101:in `run_callbacks'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/action_dispatch/show_exceptions.rb:11:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rescue_registry-1.0.0/lib/rescue_registry/reset_context.rb:9:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:37:in `call_app'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `block in tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:39:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/tagged_logging.rb:139:in `tagged'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/broadcast_logger.rb:241:in `method_missing'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/rack/logger.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/request_id.rb:28:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/runtime.rb:24:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/activesupport-7.1.5.2/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/server_timing.rb:58:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/executor.rb:14:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/static.rb:25:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-3.2.0/lib/rack/sendfile.rb:114:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/actionpack-7.1.5.2/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/rack-cors-3.0.0/lib/rack/cors.rb:102:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/railties-7.1.5.2/lib/rails/engine.rb:536:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/configuration.rb:279:in `call'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:99:in `block in handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/request.rb:98:in `handle_request'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:472:in `process_client'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/server.rb:254:in `block in run'
/home/renanproenca/.rvm/gems/ruby-3.3.5@anglerfish/gems/puma-6.6.1/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Completed 500 Internal Server Error in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 731)


Started GET "/api/v1/auth/me" for ::1 at 2025-09-02 03:33:10 -0300
Processing by Api::V1::AuthController#me as JSONAPI
Completed 401 Unauthorized in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 111)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2025-09-02 03:46:58 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::HealthController#show as HTML
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 9)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms | Allocations: 2499)


Started GET "/favicon.ico" for ::1 at 2025-09-02 03:46:58 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/health" for ::1 at 2025-09-02 03:47:08 -0300
  
ActionController::RoutingError (No route matches [GET] "/health"):
  
Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 03:58:14 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 392ms (Views: 0.2ms | ActiveRecord: 3.3ms | Allocations: 27721)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 03:58:21 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 163ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 650)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-02 03:58:33 -0300
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"attributes"=>{"email"=>"teste@dota.com", "password"=>"[FILTERED]", "name"=>"Teste Lero", "nickname"=>"TesteLero", "rank_medal"=>"ancient", "rank_stars"=>3, "positions"=>["P1", "P2"]}}, "auth"=>{"data"=>{"attributes"=>{"email"=>"teste@dota.com", "password"=>"[FILTERED]", "name"=>"Teste Lero", "nickname"=>"TesteLero", "rank_medal"=>"ancient", "rank_stars"=>3, "positions"=>["P1", "P2"]}}}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "teste@dota.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "TesteLero"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "teste@dota.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "TesteLero"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "teste@dota.com"], ["nickname", "TesteLero"], ["name", "Teste Lero"], ["phone", nil], ["rank_medal", "ancient"], ["rank_stars", 3], ["preferred_position", nil], ["positions", "[\"P1\",\"P2\"]"], ["category", "ancient"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 06:58:33.969081"], ["updated_at", "2025-09-02 06:58:33.969081"]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
User created successfully: 3 (teste@dota.com)
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User registration completed: teste@dota.com (TesteLero)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:14:in `register'
Completed 201 Created in 189ms (Views: 0.1ms | ActiveRecord: 4.4ms | Allocations: 6249)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 03:58:42 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"attributes"=>{"email"=>"teste@dota.com", "password"=>"[FILTERED]"}}, "auth"=>{"data"=>{"attributes"=>{"email"=>"teste@dota.com", "password"=>"[FILTERED]"}}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "teste@dota.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: teste@dota.com (TesteLero)
Completed 200 OK in 169ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 643)


Started GET "/api/v1/auth/me" for ::1 at 2025-09-02 03:58:52 -0300
Processing by Api::V1::AuthController#me as JSONAPI
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/operations/auth/me_operation.rb:58:in `find_user_from_token!'
User me request: teste@dota.com (TesteLero)
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 2257)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-02 04:01:28 -0300
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"email@teste.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "name"=>"Lero Lero", "nickname"=>"Metalero", "phone"=>"11955559999", "rank_medal"=>"Guardian", "rank_stars"=>1, "preferred_position"=>"P1", "positions"=>["P1"]}}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."nickname" = ? LIMIT ?[0m  [["nickname", "Metalero"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:135:in `check_nickname_availability!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11955559999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:141:in `check_phone_availability!'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "email@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "Metalero"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "11955559999"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "email@teste.com"], ["nickname", "Metalero"], ["name", "Lero Lero"], ["phone", "11955559999"], ["rank_medal", "guardian"], ["rank_stars", 1], ["preferred_position", "P1"], ["positions", "[\"P1\"]"], ["category", "ancient"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 07:01:29.040658"], ["updated_at", "2025-09-02 07:01:29.040658"]]
  ↳ app/operations/auth/register_operation.rb:148:in `block in create_user_with_transaction!'
User created successfully: 4 (email@teste.com)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/operations/auth/register_operation.rb:147:in `create_user_with_transaction!'
User registration completed: email@teste.com (Metalero)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/auth_controller.rb:14:in `register'
Completed 201 Created in 159ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 5329)


Started POST "/api/v1/auth/register" for ::1 at 2025-09-02 04:01:38 -0300
Processing by Api::V1::AuthController#register as JSONAPI
  Parameters: {"data"=>{"type"=>"users", "attributes"=>{"email"=>"email@teste.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "name"=>"Lero Lero", "nickname"=>"Metalero", "phone"=>"11955559999", "rank_medal"=>"Guardian", "rank_stars"=>1, "preferred_position"=>"P1", "positions"=>["P1"]}}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@teste.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/register_operation.rb:129:in `check_email_availability!'
Registration duplicate error: Email is already registered
Completed 422 Unprocessable Content in 14ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1644)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:05:09 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 160ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 631)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:05:26 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 162ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 632)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:05:35 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 158ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 631)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:05:36 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 164ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 631)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:06:11 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 161ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 632)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:06:52 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}, "auth"=>{"data"=>{"attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
Login failed - invalid credentials: email@email.com
Completed 401 Unauthorized in 270ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1629)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:07:02 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
Login failed - invalid credentials: email@email.com
Completed 401 Unauthorized in 270ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 537)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:07:59 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 167ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 9667)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:08:16 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 155ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 658)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:08:34 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
Login failed - invalid credentials: email@email.com
Completed 401 Unauthorized in 260ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1606)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:08:52 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
Login failed - invalid credentials: email@email.com
Completed 401 Unauthorized in 263ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 537)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:09:19 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 175ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 658)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:09:38 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 155ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 658)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:13:07 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 176ms (Views: 0.1ms | ActiveRecord: 1.1ms | Allocations: 9221)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:13:21 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 172ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 664)


Started GET "/api/v1/auth/me" for ::1 at 2025-09-02 04:13:24 -0300
Processing by Api::V1::AuthController#me as JSONAPI
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/operations/auth/me_operation.rb:58:in `find_user_from_token!'
User me request: email@email.com (metallica)
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1013)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:13:31 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 180ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 665)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 04:22:56 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 160ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 942)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 10:26:43 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 176ms (Views: 0.2ms | ActiveRecord: 4.2ms | Allocations: 943)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 11:06:13 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 168ms (Views: 0.1ms | ActiveRecord: 4.6ms | Allocations: 943)


  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateDailyLists (20250902140700)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "daily_lists" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "date" date NOT NULL, "list_type" varchar NOT NULL, "sequence_number" integer DEFAULT 1 NOT NULL, "status" varchar DEFAULT 'open' NOT NULL, "max_players" integer DEFAULT 5 NOT NULL, "created_by" varchar DEFAULT 'system', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "idx_daily_lists_unique" ON "daily_lists" ("date", "list_type", "sequence_number")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "idx_daily_lists_search" ON "daily_lists" ("date", "list_type", "status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250902140700') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePresences (20250902140733)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "presences" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "daily_list_id" integer NOT NULL, "position" varchar NOT NULL, "source" varchar DEFAULT 'web' NOT NULL, "status" varchar DEFAULT 'confirmed' NOT NULL, "confirmed_at" datetime(6) NOT NULL, "notes" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_b6b68003d0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_e27c7a5c64"
FOREIGN KEY ("daily_list_id")
  REFERENCES "daily_lists" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_presences_on_user_id" ON "presences" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_presences_on_daily_list_id" ON "presences" ("daily_list_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "idx_presences_unique_position" ON "presences" ("daily_list_id", "position") WHERE status = 'confirmed'[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "idx_presences_unique_user" ON "presences" ("daily_list_id", "user_id") WHERE status = 'confirmed'[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "idx_presences_user_status" ON "presences" ("user_id", "status")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "idx_presences_list_status" ON "presences" ("daily_list_id", "status")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250902140733') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ancient@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "ancient@test.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "AncientGamer"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "+5511999999001"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "ancient@test.com"], ["nickname", "AncientGamer"], ["name", "Ancient Player"], ["phone", "+5511999999001"], ["rank_medal", "ancient"], ["rank_stars", 3], ["preferred_position", "P1"], ["positions", "[\"P1\",\"P2\"]"], ["category", "ancient"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 14:11:35.687142"], ["updated_at", "2025-09-02 14:11:35.687142"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "divine@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "divine@test.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "DivineCoach"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "+5511999999002"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "divine@test.com"], ["nickname", "DivineCoach"], ["name", "Divine Player"], ["phone", "+5511999999002"], ["rank_medal", "divine"], ["rank_stars", 2], ["preferred_position", "P3"], ["positions", "[\"P3\",\"P4\",\"P5\"]"], ["category", "immortal"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 14:11:35.894255"], ["updated_at", "2025-09-02 14:11:35.894255"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "immortal@test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "immortal@test.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."nickname") = LOWER(?) LIMIT ?[0m  [["nickname", "ImmortalPro"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."phone" = ? LIMIT ?[0m  [["phone", "+5511999999003"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "nickname", "name", "phone", "rank_medal", "rank_stars", "preferred_position", "positions", "category", "role", "active", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "immortal@test.com"], ["nickname", "ImmortalPro"], ["name", "Immortal Player"], ["phone", "+5511999999003"], ["rank_medal", "immortal"], ["rank_stars", 100], ["preferred_position", "P2"], ["positions", "[\"P1\",\"P2\",\"P3\",\"P4\",\"P5\"]"], ["category", "immortal"], ["role", "player"], ["active", 1], ["password_digest", "[FILTERED]"], ["created_at", "2025-09-02 14:11:36.107657"], ["updated_at", "2025-09-02 14:11:36.107657"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mDailyList Load (0.1ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."sequence_number" = ? LIMIT ?[0m  [["date", "2025-09-02"], ["list_type", "ancient"], ["sequence_number", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mDailyList Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "daily_lists" WHERE "daily_lists"."sequence_number" = ? AND "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? LIMIT ?[0m  [["sequence_number", 1], ["date", "2025-09-02"], ["list_type", "ancient"], ["LIMIT", 1]]
  [1m[36mDailyList Create (0.1ms)[0m  [1m[32mINSERT INTO "daily_lists" ("date", "list_type", "sequence_number", "status", "max_players", "created_by", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["date", "2025-09-02"], ["list_type", "ancient"], ["sequence_number", 1], ["status", "open"], ["max_players", 5], ["created_by", "seed"], ["created_at", "2025-09-02 14:11:36.124506"], ["updated_at", "2025-09-02 14:11:36.124506"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mDailyList Load (0.1ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."sequence_number" = ? LIMIT ?[0m  [["date", "2025-09-02"], ["list_type", "immortal"], ["sequence_number", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mDailyList Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "daily_lists" WHERE "daily_lists"."sequence_number" = ? AND "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? LIMIT ?[0m  [["sequence_number", 1], ["date", "2025-09-02"], ["list_type", "immortal"], ["LIMIT", 1]]
  [1m[36mDailyList Create (0.1ms)[0m  [1m[32mINSERT INTO "daily_lists" ("date", "list_type", "sequence_number", "status", "max_players", "created_by", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["date", "2025-09-02"], ["list_type", "immortal"], ["sequence_number", 1], ["status", "open"], ["max_players", 5], ["created_by", "seed"], ["created_at", "2025-09-02 14:11:36.129693"], ["updated_at", "2025-09-02 14:11:36.129693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mDailyList Load (0.0ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."sequence_number" = ? LIMIT ?[0m  [["date", "2025-09-03"], ["list_type", "ancient"], ["sequence_number", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mDailyList Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "daily_lists" WHERE "daily_lists"."sequence_number" = ? AND "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? LIMIT ?[0m  [["sequence_number", 1], ["date", "2025-09-03"], ["list_type", "ancient"], ["LIMIT", 1]]
  [1m[36mDailyList Create (0.1ms)[0m  [1m[32mINSERT INTO "daily_lists" ("date", "list_type", "sequence_number", "status", "max_players", "created_by", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["date", "2025-09-03"], ["list_type", "ancient"], ["sequence_number", 1], ["status", "open"], ["max_players", 5], ["created_by", "seed"], ["created_at", "2025-09-02 14:11:36.132900"], ["updated_at", "2025-09-02 14:11:36.132900"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mDailyList Load (0.0ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."sequence_number" = ? LIMIT ?[0m  [["date", "2025-09-03"], ["list_type", "immortal"], ["sequence_number", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mDailyList Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "daily_lists" WHERE "daily_lists"."sequence_number" = ? AND "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? LIMIT ?[0m  [["sequence_number", 1], ["date", "2025-09-03"], ["list_type", "immortal"], ["LIMIT", 1]]
  [1m[36mDailyList Create (0.4ms)[0m  [1m[32mINSERT INTO "daily_lists" ("date", "list_type", "sequence_number", "status", "max_players", "created_by", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["date", "2025-09-03"], ["list_type", "immortal"], ["sequence_number", 1], ["status", "open"], ["max_players", 5], ["created_by", "seed"], ["created_at", "2025-09-02 14:11:36.143845"], ["updated_at", "2025-09-02 14:11:36.143845"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mDailyList Load (0.1ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."sequence_number" = ? LIMIT ?[0m  [["date", "2025-09-04"], ["list_type", "ancient"], ["sequence_number", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mDailyList Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "daily_lists" WHERE "daily_lists"."sequence_number" = ? AND "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? LIMIT ?[0m  [["sequence_number", 1], ["date", "2025-09-04"], ["list_type", "ancient"], ["LIMIT", 1]]
  [1m[36mDailyList Create (0.1ms)[0m  [1m[32mINSERT INTO "daily_lists" ("date", "list_type", "sequence_number", "status", "max_players", "created_by", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["date", "2025-09-04"], ["list_type", "ancient"], ["sequence_number", 1], ["status", "open"], ["max_players", 5], ["created_by", "seed"], ["created_at", "2025-09-02 14:11:36.148207"], ["updated_at", "2025-09-02 14:11:36.148207"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mDailyList Load (0.1ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."sequence_number" = ? LIMIT ?[0m  [["date", "2025-09-04"], ["list_type", "immortal"], ["sequence_number", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mDailyList Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "daily_lists" WHERE "daily_lists"."sequence_number" = ? AND "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? LIMIT ?[0m  [["sequence_number", 1], ["date", "2025-09-04"], ["list_type", "immortal"], ["LIMIT", 1]]
  [1m[36mDailyList Create (0.1ms)[0m  [1m[32mINSERT INTO "daily_lists" ("date", "list_type", "sequence_number", "status", "max_players", "created_by", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["date", "2025-09-04"], ["list_type", "immortal"], ["sequence_number", 1], ["status", "open"], ["max_players", 5], ["created_by", "seed"], ["created_at", "2025-09-02 14:11:36.152961"], ["updated_at", "2025-09-02 14:11:36.152961"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mDailyList Load (0.0ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."sequence_number" = ? LIMIT ?[0m  [["date", "2025-09-05"], ["list_type", "ancient"], ["sequence_number", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mDailyList Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "daily_lists" WHERE "daily_lists"."sequence_number" = ? AND "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? LIMIT ?[0m  [["sequence_number", 1], ["date", "2025-09-05"], ["list_type", "ancient"], ["LIMIT", 1]]
  [1m[36mDailyList Create (0.2ms)[0m  [1m[32mINSERT INTO "daily_lists" ("date", "list_type", "sequence_number", "status", "max_players", "created_by", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["date", "2025-09-05"], ["list_type", "ancient"], ["sequence_number", 1], ["status", "open"], ["max_players", 5], ["created_by", "seed"], ["created_at", "2025-09-02 14:11:36.156525"], ["updated_at", "2025-09-02 14:11:36.156525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mDailyList Load (0.0ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."sequence_number" = ? LIMIT ?[0m  [["date", "2025-09-05"], ["list_type", "immortal"], ["sequence_number", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mDailyList Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "daily_lists" WHERE "daily_lists"."sequence_number" = ? AND "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? LIMIT ?[0m  [["sequence_number", 1], ["date", "2025-09-05"], ["list_type", "immortal"], ["LIMIT", 1]]
  [1m[36mDailyList Create (0.1ms)[0m  [1m[32mINSERT INTO "daily_lists" ("date", "list_type", "sequence_number", "status", "max_players", "created_by", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["date", "2025-09-05"], ["list_type", "immortal"], ["sequence_number", 1], ["status", "open"], ["max_players", 5], ["created_by", "seed"], ["created_at", "2025-09-02 14:11:36.160022"], ["updated_at", "2025-09-02 14:11:36.160022"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/api/v1/auth/me" for ::1 at 2025-09-02 11:14:14 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::AuthController#me as JSONAPI
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/operations/auth/me_operation.rb:58:in `find_user_from_token!'
User me request: email@email.com (metallica)
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 8536)


Started GET "/api/v1/auth/me" for ::1 at 2025-09-02 11:14:25 -0300
Processing by Api::V1::AuthController#me as JSONAPI
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/operations/auth/me_operation.rb:58:in `find_user_from_token!'
User me request: email@email.com (metallica)
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 728)


Started GET "/api/v1/daily-lists/dashboard" for ::1 at 2025-09-02 11:15:46 -0300
Processing by Api::V1::DailyListsController#dashboard as JSONAPI
  Parameters: {"daily_list"=>{}}
JWT Error: Not enough or too many segments
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 259)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 11:16:01 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"ancient@test.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ancient@test.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: ancient@test.com (AncientGamer)
Completed 200 OK in 172ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1050)


Started GET "/api/v1/daily-lists/dashboard" for ::1 at 2025-09-02 11:16:11 -0300
Processing by Api::V1::DailyListsController#dashboard as JSONAPI
  Parameters: {"daily_list"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/daily_lists_controller.rb:38:in `authenticate_user!'
  [1m[36mDailyList Load (0.7ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."status" = ? ORDER BY "daily_lists"."sequence_number" ASC LIMIT ?[0m  [["date", "2025-09-02"], ["list_type", "ancient"], ["status", "open"], ["LIMIT", 1]]
  ↳ app/models/daily_list.rb:30:in `current_open_list'
  [1m[36mDailyList Load (0.2ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."status" = ? ORDER BY "daily_lists"."sequence_number" ASC LIMIT ?[0m  [["date", "2025-09-02"], ["list_type", "immortal"], ["status", "open"], ["LIMIT", 1]]
  ↳ app/models/daily_list.rb:30:in `current_open_list'
  [1m[36mDailyList Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ?[0m  [["date", "2025-09-02"], ["list_type", "ancient"]]
  ↳ app/operations/daily_list/get_current_lists_operation.rb:96:in `calculate_daily_stats'
  [1m[36mDailyList Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ?[0m  [["date", "2025-09-02"], ["list_type", "immortal"]]
  ↳ app/operations/daily_list/get_current_lists_operation.rb:97:in `calculate_daily_stats'
  [1m[36mPresence Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "presences" INNER JOIN "daily_lists" ON "daily_lists"."id" = "presences"."daily_list_id" WHERE "daily_lists"."date" = ? AND "presences"."status" = ?[0m  [["date", "2025-09-02"], ["status", "confirmed"]]
  ↳ app/operations/daily_list/get_current_lists_operation.rb:101:in `calculate_daily_stats'
  [1m[36mDailyList Maximum (0.1ms)[0m  [1m[34mSELECT MAX("daily_lists"."sequence_number") FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ?[0m  [["date", "2025-09-02"], ["list_type", "ancient"]]
  ↳ app/operations/daily_list/get_current_lists_operation.rb:103:in `calculate_daily_stats'
  [1m[36mDailyList Maximum (0.0ms)[0m  [1m[34mSELECT MAX("daily_lists"."sequence_number") FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ?[0m  [["date", "2025-09-02"], ["list_type", "immortal"]]
  ↳ app/operations/daily_list/get_current_lists_operation.rb:104:in `calculate_daily_stats'
  [1m[36mPresence Pluck (0.3ms)[0m  [1m[34mSELECT "presences"."position" FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 1], ["status", "confirmed"]]
  ↳ app/models/daily_list.rb:50:in `available_positions'
  [1m[36mPresence Load (0.1ms)[0m  [1m[34mSELECT "presences".* FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 1], ["status", "confirmed"]]
  ↳ app/operations/daily_list/get_current_lists_operation.rb:37:in `map'
  [1m[36mDailyList Load (0.2ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" INNER JOIN "presences" ON "presences"."daily_list_id" = "daily_lists"."id" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "presences"."user_id" = ? AND "presences"."status" = ? ORDER BY "daily_lists"."id" ASC LIMIT ?[0m  [["date", "2025-09-02"], ["list_type", "ancient"], ["user_id", 5], ["status", "confirmed"], ["LIMIT", 1]]
  ↳ app/operations/daily_list/get_current_lists_operation.rb:88:in `find_user_presence_for_list_type'
  [1m[36mCACHE Presence Pluck (0.0ms)[0m  [1m[34mSELECT "presences"."position" FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 1], ["status", "confirmed"]]
  ↳ app/models/daily_list.rb:50:in `available_positions'
  [1m[36mCACHE Presence Pluck (0.0ms)[0m  [1m[34mSELECT "presences"."position" FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 1], ["status", "confirmed"]]
  ↳ app/models/daily_list.rb:50:in `available_positions'
  [1m[36mPresence Pluck (0.1ms)[0m  [1m[34mSELECT "presences"."position" FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 2], ["status", "confirmed"]]
  ↳ app/models/daily_list.rb:50:in `available_positions'
  [1m[36mPresence Load (0.0ms)[0m  [1m[34mSELECT "presences".* FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 2], ["status", "confirmed"]]
  ↳ app/operations/daily_list/get_current_lists_operation.rb:37:in `map'
  [1m[36mDailyList Load (0.1ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" BETWEEN ? AND ? AND "daily_lists"."status" = ? ORDER BY "daily_lists"."date" DESC, "daily_lists"."sequence_number" DESC LIMIT ?[0m  [["date", "2025-08-26"], ["date", "2025-09-02"], ["status", "full"], ["LIMIT", 10]]
  ↳ app/operations/daily_list/get_current_lists_operation.rb:115:in `map'
Completed 200 OK in 59ms (Views: 0.1ms | ActiveRecord: 2.7ms | Allocations: 26932)


Started POST "/api/v1/presences" for ::1 at 2025-09-02 11:16:24 -0300
Processing by Api::V1::PresencesController#create as JSONAPI
  Parameters: {"data"=>{"type"=>"presence", "attributes"=>{"position"=>"P1", "list_type"=>"ancient"}}, "presence"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/presences_controller.rb:100:in `authenticate_user!'
  [1m[36mDailyList Load (0.1ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "daily_lists"."status" = ? ORDER BY "daily_lists"."sequence_number" ASC LIMIT ?[0m  [["date", "2025-09-02"], ["list_type", "ancient"], ["status", "open"], ["LIMIT", 1]]
  ↳ app/models/daily_list.rb:30:in `current_open_list'
  [1m[36mDailyList Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "daily_lists" INNER JOIN "presences" ON "presences"."daily_list_id" = "daily_lists"."id" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "presences"."user_id" = ? AND "presences"."status" = ? LIMIT ?[0m  [["date", "2025-09-02"], ["list_type", "ancient"], ["user_id", 5], ["status", "confirmed"], ["LIMIT", 1]]
  ↳ app/models/daily_list.rb:96:in `user_already_confirmed_today?'
  [1m[36mPresence Pluck (0.0ms)[0m  [1m[34mSELECT "presences"."position" FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 1], ["status", "confirmed"]]
  ↳ app/models/daily_list.rb:50:in `available_positions'
  [1m[36mCACHE Presence Pluck (0.0ms)[0m  [1m[34mSELECT "presences"."position" FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 1], ["status", "confirmed"]]
  ↳ app/models/daily_list.rb:50:in `available_positions'
  [1m[36mDailyList Load (0.1ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" INNER JOIN "presences" ON "presences"."daily_list_id" = "daily_lists"."id" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "presences"."user_id" = ? AND "presences"."status" = ? ORDER BY "daily_lists"."id" ASC LIMIT ?[0m  [["date", "2025-09-02"], ["list_type", "ancient"], ["user_id", 5], ["status", "confirmed"], ["LIMIT", 1]]
  ↳ app/operations/presence/confirm_operation.rb:78:in `find_existing_presence_same_type'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/operations/presence/confirm_operation.rb:82:in `create_presence!'
  [1m[36mPresence Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "presences" WHERE "presences"."position" = ? AND "presences"."daily_list_id" = ? AND "presences"."status" = ? LIMIT ?[0m  [["position", "P1"], ["daily_list_id", 1], ["status", "confirmed"], ["LIMIT", 1]]
  ↳ app/operations/presence/confirm_operation.rb:82:in `create_presence!'
  [1m[36mPresence Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "presences" WHERE "presences"."user_id" = ? AND "presences"."daily_list_id" = ? AND "presences"."status" = ? LIMIT ?[0m  [["user_id", 5], ["daily_list_id", 1], ["status", "confirmed"], ["LIMIT", 1]]
  ↳ app/operations/presence/confirm_operation.rb:82:in `create_presence!'
  [1m[36mDailyList Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "daily_lists" INNER JOIN "presences" ON "presences"."daily_list_id" = "daily_lists"."id" WHERE "daily_lists"."date" = ? AND "daily_lists"."list_type" = ? AND "presences"."user_id" = ? AND "presences"."status" = ? AND "daily_lists"."id" != ? LIMIT ?[0m  [["date", "2025-09-02"], ["list_type", "ancient"], ["user_id", 5], ["status", "confirmed"], ["id", 1], ["LIMIT", 1]]
  ↳ app/models/presence.rb:53:in `user_cannot_confirm_multiple_times_same_day_type'
  [1m[36mPresence Create (0.1ms)[0m  [1m[32mINSERT INTO "presences" ("user_id", "daily_list_id", "position", "source", "status", "confirmed_at", "notes", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 5], ["daily_list_id", 1], ["position", "P1"], ["source", "web"], ["status", "confirmed"], ["confirmed_at", "2025-09-02 14:16:24.488072"], ["notes", nil], ["created_at", "2025-09-02 14:16:24.500803"], ["updated_at", "2025-09-02 14:16:24.500803"]]
  ↳ app/operations/presence/confirm_operation.rb:82:in `create_presence!'
  [1m[36mDailyList Load (0.1ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/presence.rb:81:in `check_if_list_full'
  [1m[36mPresence Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 1], ["status", "confirmed"]]
  ↳ app/models/daily_list.rb:55:in `full?'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/operations/presence/confirm_operation.rb:82:in `create_presence!'
Presença confirmada: AncientGamer na posição P1 da Ancient #1
  [1m[36mDailyList Load (0.1ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/operations/presence/confirm_operation.rb:98:in `handle_list_auto_progression!'
  [1m[36mPresence Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 1], ["status", "confirmed"]]
  ↳ app/models/daily_list.rb:55:in `full?'
  [1m[36mDailyList Load (0.0ms)[0m  [1m[34mSELECT "daily_lists".* FROM "daily_lists" WHERE "daily_lists"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/operations/presence/confirm_operation.rb:22:in `call'
  [1m[36mPresence Pluck (0.0ms)[0m  [1m[34mSELECT "presences"."position" FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 1], ["status", "confirmed"]]
  ↳ app/models/daily_list.rb:50:in `available_positions'
  [1m[36mPresence Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "presences" WHERE "presences"."daily_list_id" = ? AND "presences"."status" = ?[0m  [["daily_list_id", 1], ["status", "confirmed"]]
  ↳ app/operations/presence/confirm_operation.rb:124:in `serialize_list'
Completed 201 Created in 27ms (Views: 0.2ms | ActiveRecord: 4.9ms | Allocations: 18210)


Started GET "/api/v1/auth/me" for ::1 at 2025-09-02 11:20:22 -0300
Processing by Api::V1::AuthController#me as JSONAPI
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/operations/auth/me_operation.rb:58:in `find_user_from_token!'
User me request: email@email.com (metallica)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 728)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 11:23:38 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 189ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 664)


Started GET "/api/v1/daily-lists/dashboard" for ::1 at 2025-09-02 11:24:49 -0300
Processing by Api::V1::DailyListsController#dashboard as JSONAPI
JWT Error: Not enough or too many segments
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 143)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 11:24:56 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}, "auth"=>{"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
Login failed - invalid credentials: email@email.com
Completed 401 Unauthorized in 295ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 1608)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 11:25:03 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"ancient@test.com", "password"=>"[FILTERED]"}}, "auth"=>{"data"=>{"type"=>"auth", "attributes"=>{"email"=>"ancient@test.com", "password"=>"[FILTERED]"}}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ancient@test.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
Login failed - invalid credentials: ancient@test.com
Completed 401 Unauthorized in 267ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 539)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 11:25:08 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"ancient@test.com", "password"=>"[FILTERED]"}}, "auth"=>{"data"=>{"type"=>"auth", "attributes"=>{"email"=>"ancient@test.com", "password"=>"[FILTERED]"}}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ancient@test.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
Login failed - invalid credentials: ancient@test.com
Completed 401 Unauthorized in 270ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 537)


Started GET "/api/v1/auth/me" for ::1 at 2025-09-02 11:25:43 -0300
Processing by Api::V1::AuthController#me as JSONAPI
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/operations/auth/me_operation.rb:58:in `find_user_from_token!'
User me request: email@email.com (metallica)
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 728)


Started POST "/api/v1/auth/login" for ::1 at 2025-09-02 11:25:47 -0300
Processing by Api::V1::AuthController#login as JSONAPI
  Parameters: {"data"=>{"type"=>"auth", "attributes"=>{"email"=>"email@email.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "email@email.com"], ["LIMIT", 1]]
  ↳ app/operations/auth/login_operation.rb:74:in `find_user!'
User login successful: email@email.com (metallica)
Completed 200 OK in 166ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 664)


